---
title: ✅58、授人以渔：消费者是跟所有Broker建立连接，还是跟部分Broker建立连接
category:
  - RocketMQ
date: 2025-10-24
---


**授人以渔：消费者是跟所有Broker建立连接，还是跟部分Broker建立连接？**

---

今天的授人以渔环节，我们想让大家思考以下几个问题，相信每个人结合我们教给大家的知识，都能思考出来答案的：

**（1）**消费者机器到底是跟少数几台Broker建立连接，还是跟所有Broker都建立连接？这是不少朋友之前在评论区提出的问题，但是我想这里大家肯定都有自己的答案了。

**（2）**RocketMQ是支持主从架构下的读写分离的，而且什么时候找Slave Broker读取大家也都了解的很清楚了，那么大家思考一下，Kafka、RabbitMQ他们支持主从架构下的读写分离吗？支持Slave Broker的读取吗？为什么呢？

**（3）**如果支持读写分离的话，有没有一种可能，就是出现主从数据不一致的问题？比如有的数据刚刚到Master Broker和部分Slave Broker，但是你刚好是从那个没有写入数据的Slave Broker去读取了？

**（4）**消费吞吐量似乎是跟你的处理速度有很大关系，如果你消费到一批数据，处理太慢了，会导致你严重跟不上数据写入的速度，这会导致你后续几乎每次拉取数据都会从磁盘上读取，而不是os cache里读取，所以你觉得你在拉取到一批消息处理的时候，应该有哪些要点需要注意的？